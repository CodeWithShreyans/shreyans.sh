---
interface Props {
    allProjects?: boolean
}

const { allProjects = false } = Astro.props

interface Project {
    title: string
    description: string
    tag: "pre-release" | "archived" | "borked"
}
const projects: Project[] = [
    {
        title: "shreyans.sh",
        description:
            "My personal website, built with Astro and TypeScript. lorem ipsum",
        tag: "pre-release",
    },
    {
        title: "astro",
        description: "A new kind of static site generator.",
        tag: "archived",
    },
    {
        title: "svelte",
        description: "Cybernetically enhanced web apps.",
        tag: "borked",
    },
    {
        title: "shreyans.sh",
        description:
            "My personal website, built with Astro and TypeScript. lorem ipsum",
        tag: "pre-release",
    },
    {
        title: "astro",
        description: "A new kind of static site generator.",
        tag: "archived",
    },
    {
        title: "svelte",
        description: "Cybernetically enhanced web apps.",
        tag: "borked",
    },
]
---

<div class="flex flex-col gap-5">
    <h2 class="text-lg">My Work</h2>
    <div class="flex flex-col-reverse gap-3">
    {(allProjects ? projects : projects.slice(0, 3)).map(({title, description, tag}, index) => {
    	return (
     <div class="flex justify-between target:py-10 target:font-bold target:text-lg" id={(index+1).toString()}>
        <div class="flex flex-col gap-1">
            <div class="flex gap-1">
                <span class="tabular-nums">{index + 1}.</span>
                <span>{title}</span>
            </div>
            <p class="text-sm text-muted-foreground">{description}</p>
        </div>
        <div class="text-sm min-w-fit self-start bg-accent text-accent-foreground p-1.5 rounded-[0.5rem] overflow-hidden">
            {tag === "pre-release" ? "Pre-release" : tag === "archived" ? "Archived" : "Borked"}
        </div>
     </div>
     )
    })}
    </div>
    {!allProjects ? <a href="/projects" class="text-sm hover:underline underline-offset-4 transition-all size-fit">{"Read more ->"}</a> : null}
</div>
